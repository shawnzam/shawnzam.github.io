<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shawn Zamechek | Blog</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-green-100 via-gray-50 to-green-50 min-h-screen flex flex-col">
    <header class="bg-yellow-50 border-b border-yellow-100 shadow">
        <div class="container mx-auto px-4 py-6 flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-extrabold text-gray-800">Blog</h1>
                <p class="text-sm text-gray-600 mt-1">Writing on AI, research, and learning.</p>
            </div>
            <a href="../" class="text-blue-700 hover:underline font-semibold">Back Home</a>
        </div>
    </header>

    <main class="flex-1 container mx-auto px-4 py-12">
        <div class="max-w-3xl mx-auto">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Posts</h2>

            <article class="bg-white p-6 rounded shadow border border-gray-200">
                <a href="./when-the-words-wont-come-dysgraphia-ai-and-the-bridge-ive-been-looking-for/" class="block mb-4">
                    <img src="./when-the-words-wont-come-dysgraphia-ai-and-the-bridge-ive-been-looking-for.png"
                        alt="Title image for When the Words Won't Come"
                        class="w-full h-56 sm:h-64 object-cover rounded-lg border border-gray-200" loading="lazy" />
                </a>
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3">
                    <h3 class="text-xl font-semibold text-gray-900">When the Words Won't Come: Dysgraphia, AI, and the
                        Bridge I've Been Looking For</h3>
                    <span class="text-xs font-semibold tracking-wide text-gray-500 uppercase">Essay</span>
                </div>
                <p class="text-sm text-gray-500 mb-3">Published:
                    <span class="post-published-date"
                        data-md="./when-the-words-wont-come-dysgraphia-ai-and-the-bridge-ive-been-looking-for/when-the-words-wont-come-dysgraphia-ai-and-the-bridge-ive-been-looking-for.md">Loading...</span>
                </p>
                <p class="text-gray-700 mb-4">
                    A personal reflection on dysgraphia, parenting, and how modern AI tools can reduce the friction
                    between ideas and written expression.
                </p>
                <a href="./when-the-words-wont-come-dysgraphia-ai-and-the-bridge-ive-been-looking-for/"
                    class="text-blue-700 hover:underline font-semibold">Read post</a>
            </article>
        </div>
    </main>

    <footer class="bg-white border-t py-4 mt-auto">
        <div class="container mx-auto px-4 text-center text-gray-500">
            &copy; <span id="footer-year"></span> Shawn Zamechek.
        </div>
    </footer>

    <script>
        function parseFrontMatter(markdown) {
            const match = markdown.match(/^---\s*\n([\s\S]*?)\n---\s*\n?/);
            if (!match) return {};

            const metadata = {};
            match[1].split('\n').forEach(line => {
                const separator = line.indexOf(':');
                if (separator === -1) return;
                const key = line.slice(0, separator).trim();
                const value = line.slice(separator + 1).trim().replace(/^['"]|['"]$/g, '');
                if (key) metadata[key] = value;
            });

            return metadata;
        }

        function formatPublishedDate(value) {
            if (!value) return 'Date not set';

            const parts = value.match(/^(\d{4})-(\d{2})-(\d{2})$/);
            if (!parts) return value;

            const parsedDate = new Date(
                Number(parts[1]),
                Number(parts[2]) - 1,
                Number(parts[3])
            );

            return new Intl.DateTimeFormat('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            }).format(parsedDate);
        }

        async function hydratePublishedDates() {
            const dateNodes = document.querySelectorAll('.post-published-date[data-md]');

            await Promise.all(Array.from(dateNodes).map(async node => {
                const postPath = node.getAttribute('data-md');
                if (!postPath) return;

                try {
                    const response = await fetch(postPath);
                    if (!response.ok) throw new Error('Unable to fetch post markdown');
                    const markdown = await response.text();
                    const metadata = parseFrontMatter(markdown);
                    node.textContent = formatPublishedDate(metadata.published);
                } catch (e) {
                    node.textContent = 'Unavailable';
                }
            }));
        }

        hydratePublishedDates();
        document.getElementById('footer-year').textContent = new Date().getFullYear();
    </script>
</body>

</html>
